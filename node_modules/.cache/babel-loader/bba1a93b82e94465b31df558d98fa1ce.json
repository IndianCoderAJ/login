{"ast":null,"code":"import _defineProperty from\"/home/akshay/Desktop/Reactjs/simple-login/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/home/akshay/Desktop/Reactjs/simple-login/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"/home/akshay/Desktop/Reactjs/simple-login/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/akshay/Desktop/Reactjs/simple-login/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/home/akshay/Desktop/Reactjs/simple-login/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/home/akshay/Desktop/Reactjs/simple-login/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/akshay/Desktop/Reactjs/simple-login/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import{Link}from'react-router-dom';import{connect}from'react-redux';import{userActions,alertActions,validEmail,minMaxLength}from'../../_actions';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var RegisterPage=/*#__PURE__*/function(_React$Component){_inherits(RegisterPage,_React$Component);var _super=_createSuper(RegisterPage);function RegisterPage(props){var _this;_classCallCheck(this,RegisterPage);_this=_super.call(this,props);_this.state={user:{email:'',fname:'',lname:'',password:''},error:{},submitted:false};_this.props.clearAlerts();_this.handleChange=_this.handleChange.bind(_assertThisInitialized(_this));_this.handleSubmit=_this.handleSubmit.bind(_assertThisInitialized(_this));return _this;}_createClass(RegisterPage,[{key:\"handleChange\",value:function handleChange(event){var _event$target=event.target,name=_event$target.name,value=_event$target.value;var user=this.state.user;this.validation(event);this.setState({user:_objectSpread(_objectSpread({},user),{},_defineProperty({},name,value))});}},{key:\"handleSubmit\",value:function handleSubmit(event){event.preventDefault();this.setState({submitted:true});var user=this.state.user;console.log(user);var anyError=this.fromValidation();if(user.fname&&user.lname&&user.email&&user.password&&!this.props.emailtaken&&!anyError){this.props.register(user,this.props.history);}}},{key:\"emailtaken\",value:function emailtaken(e){var _this2=this;clearTimeout(this.timer);this.timer=setTimeout(function(){_this2.props.getEmailValid(_this2.state.user.email);},1000);}},{key:\"fromValidation\",value:function fromValidation(){if(this.state.error.email){return true;}else if(this.state.error.password){return true;}else if(this.state.error.lname){return true;}else if(this.state.error.fname){return true;}else{return false;}}},{key:\"validation\",value:function validation(e){var _e$target=e.target,name=_e$target.name,value=_e$target.value;if(name==='email'){var emailval=validEmail(value);this.setState(function(prevState){return{error:!emailval?_objectSpread(_objectSpread({},prevState.error),{},{email:'Email is Invalid'}):_objectSpread(_objectSpread({},prevState.error),{},{email:''})};});}if(name==='password'){var passVal=minMaxLength(value,5,10);this.setState(function(prevState){return{error:!passVal?_objectSpread(_objectSpread({},prevState.error),{},{password:'Password should be  minimum 5 to maximum 10 digits long'}):_objectSpread(_objectSpread({},prevState.error),{},{password:''})};});}if(name==='fname'){this.setState(function(prevState){return{error:value.length>12?_objectSpread(_objectSpread({},prevState.error),{},{fname:'first name should not be too long'}):_objectSpread(_objectSpread({},prevState.error),{},{fname:''})};});}if(name==='lname'){this.setState(function(prevState){return{error:value.length>12?_objectSpread(_objectSpread({},prevState.error),{},{lname:'Last name should not be too long'}):_objectSpread(_objectSpread({},prevState.error),{},{lname:''})};});}}},{key:\"render\",value:function render(){var _this3=this;var _this$props=this.props,emailtaken=_this$props.emailtaken,loading=_this$props.loading;var _this$state=this.state,user=_this$state.user,submitted=_this$state.submitted,error=_this$state.error;return/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-6 col-md-offset-3\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Register\"}),/*#__PURE__*/_jsxs(\"form\",{name:\"form\",onSubmit:this.handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:'form-group'+(submitted&&!user.email||error.email||emailtaken?' has-error':''),children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"username\",children:\"Email ID\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",name:\"email\",value:user.email,onChange:function onChange(e){_this3.handleChange(e);_this3.emailtaken(e);}}),emailtaken&&/*#__PURE__*/_jsx(\"div\",{className:\"help-block\",children:\"Email id is already available.\"}),error.email&&/*#__PURE__*/_jsx(\"div\",{className:\"help-block\",children:error.email}),submitted&&!user.email&&/*#__PURE__*/_jsx(\"div\",{className:\" help-block\",children:\"Email Id is required\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:'form-group'+(submitted&&!user.fname||error.fname?' has-error':''),children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"firstName\",children:\"First Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",name:\"fname\",value:user.fname,onChange:this.handleChange}),submitted&&!user.fname&&/*#__PURE__*/_jsx(\"div\",{className:\"help-block\",children:\"First Name is required\"}),error.fname&&/*#__PURE__*/_jsx(\"div\",{className:\"help-block\",children:error.fname})]}),/*#__PURE__*/_jsxs(\"div\",{className:'form-group'+(submitted&&!user.lname||error.fname?' has-error':''),children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"lastName\",children:\"Last Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",name:\"lname\",value:user.lname,onChange:this.handleChange}),submitted&&!user.lname&&/*#__PURE__*/_jsx(\"div\",{className:\"help-block\",children:\"Last Name is required\"}),error.lname&&/*#__PURE__*/_jsx(\"div\",{className:\"help-block\",children:error.lname})]}),/*#__PURE__*/_jsxs(\"div\",{className:'form-group'+(submitted&&!user.password||error.password?' has-error':''),children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",className:\"form-control\",name:\"password\",value:user.password,onChange:this.handleChange}),submitted&&!user.password&&/*#__PURE__*/_jsx(\"div\",{className:\"help-block\",children:\"Password is required\"}),error.password&&/*#__PURE__*/_jsx(\"div\",{className:\"help-block\",children:error.password})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",children:\"Register\"}),loading&&/*#__PURE__*/_jsx(\"img\",{alt:\"\",src:\"data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA==\"}),/*#__PURE__*/_jsx(Link,{to:\"/login\",className:\"btn btn-link\",children:\"Cancel\"})]})]})]});}}]);return RegisterPage;}(React.Component);function mapState(state){var loading=state.loading;var _state$registration=state.registration,registering=_state$registration.registering,emailtaken=_state$registration.emailtaken;return{registering:registering,emailtaken:emailtaken,loading:loading};}var actionCreators={register:userActions.register,clearAlerts:alertActions.clear,getEmailValid:userActions.getEmailValid,validEmail:validEmail,minMaxLength:minMaxLength};var connectedRegisterPage=connect(mapState,actionCreators)(RegisterPage);export{connectedRegisterPage as RegisterPage};","map":{"version":3,"sources":["/home/akshay/Desktop/Reactjs/simple-login/src/components/RegisterPage/RegisterPage.jsx"],"names":["React","Link","connect","userActions","alertActions","validEmail","minMaxLength","RegisterPage","props","state","user","email","fname","lname","password","error","submitted","clearAlerts","handleChange","bind","handleSubmit","event","target","name","value","validation","setState","preventDefault","console","log","anyError","fromValidation","emailtaken","register","history","e","clearTimeout","timer","setTimeout","getEmailValid","emailval","prevState","passVal","length","loading","Component","mapState","registration","registering","actionCreators","clear","connectedRegisterPage"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { userActions,alertActions, validEmail, minMaxLength } from '../../_actions';\n\n\nclass RegisterPage extends React.Component {\n    constructor(props) {\n        super(props);\n   \n        this.state = {\n            user: {\n                email:'',\n                fname: '',\n                lname: '',\n                password: '',\n               \n            },\n            error:{},\n            submitted: false\n        };\n        \n        this.props.clearAlerts();\n        this.handleChange = this.handleChange.bind(this);\n        this.handleSubmit = this.handleSubmit.bind(this);\n        \n    }\n\n    handleChange(event) {\n        const { name, value } = event.target;\n        const { user } = this.state;\n        this.validation(event);\n        this.setState({\n            user: {\n                ...user,\n                [name]: value\n            }\n        });\n    }\n\n    handleSubmit(event) {\n        event.preventDefault();\n        this.setState({ submitted: true });\n        const { user } = this.state;\n        console.log(user);\n        let anyError = this.fromValidation()\n        if (user.fname && user.lname && user.email && user.password && !this.props.emailtaken && !anyError ) {\n            this.props.register(user,this.props.history);\n        }\n    }\n\n    emailtaken(e) {\n        clearTimeout(this.timer);\n        this.timer = setTimeout(() => {\n          this.props.getEmailValid(this.state.user.email)\n        }, 1000);\n    }\n\n    fromValidation(){\n        if(this.state.error.email){\n            return true\n        }else if( this.state.error.password){\n            return true\n        }\n        else if(this.state.error.lname){\n            return true\n        }\n        else if(this.state.error.fname){\n             return true\n        }else {\n            return false\n        }\n    }\n\n    validation(e){\n        const { name, value } = e.target;\n        if(name === 'email'){\n            let emailval = validEmail(value)\n                this.setState(prevState => ({\n                    error:!emailval? {...prevState.error,email:'Email is Invalid'}:{...prevState.error,email:''}\n                }))\n        }\n\n        if(name === 'password'){\n         let passVal = minMaxLength(value,5,10);\n            this.setState(prevState =>({\n                error:!passVal ? {...prevState.error,password:'Password should be  minimum 5 to maximum 10 digits long'} :{...prevState.error,password:''}\n            }))\n        }\n\n        if(name === 'fname'){\n            this.setState(prevState =>({\n                error:value.length > 12 ? {...prevState.error,fname:'first name should not be too long'} :{...prevState.error,fname:''}\n            }))\n        }\n\n        if(name === 'lname'){\n            this.setState(prevState =>({\n                error:value.length > 12 ? {...prevState.error,lname:'Last name should not be too long'} :{...prevState.error,lname:''}\n            }))\n        }\n    }\n\n\n    render() {\n        const { emailtaken,loading  } = this.props;\n        const { user, submitted,error } = this.state;\n        return (\n            <div className=\"col-md-6 col-md-offset-3\">\n                <h2>Register</h2>\n                <form name=\"form\" onSubmit={this.handleSubmit}>\n                    <div className={'form-group' + ((submitted && !user.email)||error.email || emailtaken ? ' has-error' : '')}>\n                        <label htmlFor=\"username\">Email ID</label>\n                        <input type=\"text\" className=\"form-control\" name=\"email\" value={user.email} onChange={e => {\n                            this.handleChange(e)\n                            this.emailtaken(e) \n                        }} />\n                        { emailtaken && <div className=\"help-block\">Email id is already available.</div> }\n                        {error.email &&  <div className=\"help-block\">{error.email}</div> }\n                        \n                        {submitted && !user.email &&\n                            <div className=\" help-block\">Email Id is required</div>\n                        }\n                    </div>\n                    <div className={'form-group' + ((submitted && !user.fname) || error.fname? ' has-error' : '')}>\n                        <label htmlFor=\"firstName\">First Name</label>\n                        <input type=\"text\" className=\"form-control\" name=\"fname\" value={user.fname} onChange={this.handleChange} />\n                        {submitted && !user.fname &&\n                            <div className=\"help-block\">First Name is required</div>\n                        }\n                        {error.fname &&  <div className=\"help-block\">{error.fname}</div> }\n                    </div>\n                    <div className={'form-group' + ((submitted && !user.lname) ||error.fname ? ' has-error' : '')}>\n                        <label htmlFor=\"lastName\">Last Name</label>\n                        <input type=\"text\" className=\"form-control\" name=\"lname\" value={user.lname} onChange={this.handleChange} />\n                        {submitted && !user.lname &&\n                            <div className=\"help-block\">Last Name is required</div>\n                        }\n                        {error.lname &&  <div className=\"help-block\">{error.lname}</div> }\n                    </div>\n          \n                    <div className={'form-group' + ((submitted && !user.password)||error.password ? ' has-error' : '')}>\n                        <label htmlFor=\"password\">Password</label>\n                        <input type=\"password\" className=\"form-control\" name=\"password\" value={user.password} onChange={this.handleChange} />\n                        {submitted && !user.password &&\n                            <div className=\"help-block\">Password is required</div>\n                        }\n                        {error.password &&  <div className=\"help-block\">{error.password}</div> }\n                    </div>\n                    <div className=\"form-group\">\n                        <button className=\"btn btn-primary\">Register</button>\n                        {loading && \n                            <img alt='' src=\"data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA==\" />\n                        }\n                        <Link to=\"/login\" className=\"btn btn-link\">Cancel</Link>\n                    </div>\n                </form>\n            </div>\n        );\n    }\n}\n\n\nfunction mapState(state) {\n    const { loading }  = state\n    const { registering,emailtaken } = state.registration;\n    return { registering,emailtaken,loading };\n}\n\nconst actionCreators = {\n    register: userActions.register,\n    clearAlerts: alertActions.clear,\n    getEmailValid:userActions.getEmailValid,\n    validEmail:validEmail,\n    minMaxLength:minMaxLength\n}\n\nconst connectedRegisterPage = connect(mapState, actionCreators)(RegisterPage);\nexport { connectedRegisterPage as RegisterPage };"]},"metadata":{},"sourceType":"module"}